Below is the pseudocode that will help us understand the requirements of the smart contracts that will power Mercury,
as well guide the overall development of the Mercury Project.

- This pseudo-smart contract powers the 'Connect Wallet' feature. Registered users connect their wallets to the 
platform so that Mercury can monitor all ag-EUR related activities.

    - Objective: Allow registered users to connect their wallets securely to the platform.
    - Smart Contract Pseudocode: 

        ```
        Contract WalletMonitor {
            mapping (address => bool) public connectedWallet;
            address[] public listOfConnectedWallets;

            function connectWallet() external {
                connectedWallet[msg.sender] = true;
                listOfConnectedWallets.push(msg.sender);
            }

            modifier onlyConnectedWallet() {
                require(connectedWallet[msg.sender], "Wallet not connected!");
                _;
            }

            // Other functions to manage wallet connections
        }
        ```

- This pseudo-smart contract enables the wallet monitoring functionality of Mercury. 

    - Objective: Observing transactions on the agEUR stablecoin for the connected wallet.
    - Smart Contract Pseudocode: 

        ```
        Contract TransactionMonitor is WalletMonitor {
            event TransactionAlert(address sender, address receiver, uint256 amount, string transactionType);

            address public immutable i_agEURToken;

            constructor() {
                i_agEURToken = // address of agEUR token;
            }

            function monitorTransaction(address token) internal onlyConnectedWallet{
                // check if the transfer is for agEUR
                require(token == i_agEURToken, "");
                // Logic to monitor transactions on the agEUR token goes below 
                // ......
                // Emit event based on transaction type 
                emit TransactionAlert(msg.sender, receiver, amount, "Credit!");
                // or 
                emit TransactionAlert(msg.sender, receiver, amount, "Debit!");


            }
        }
        ```

- This pseudo-smart contract powers the notification feature of Mercury.

    - Objective: Sending email alerts to users based on monitored transactions.
    - Smart Contract Pseudocode:

        ```
        contract AlertNotifier is TransactionMonitor {
            // integrate with an external email service
            private string emailService;

            event EmailAlertSent(string userEmail, string alertType, uinr256 amount);

            address public immutable i_mercuryAdmin;

            constructor() {
                i_mercuryAdmin = msg.sender;
            }

            function setEmailService(string memory emailService_) public onlyMercuryAdmin returns(string memory) {
                emailService = emailService_;
            }

            function sendEmailAlert(string memory alertType) internal {
                // Logic to send email alerts 
                emit EmailAlertSent(userEmail, alertType, amount);
            }

            modifier onlyMercuryAdmin() {
                require(msg.sender == i_mercuryAdmin, "");
                _;
            }
        }
        ```